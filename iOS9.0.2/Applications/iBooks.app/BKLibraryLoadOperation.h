/*
* This header is generated by classdump-dyld 0.7
* on Friday, November 6, 2015 at 5:12:13 PM Japan Standard Time
* Operating System: Version 9.0.2 (Build 13A452)
* Image Source: /Applications/iBooks.app/iBooks
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013 by Elias Limneos.
*/

#import <iBooks/IMTimedOperation.h>
#import <iBooks/BKLibraryDataSourceDelegate.h>
#import <iBooks/BKLibraryLoadResetTaskDelegate.h>

@class NSDictionary, NSManagedObjectContext, NSMutableSet, NSDate, NSString;

@interface BKLibraryLoadOperation : IMTimedOperation <BKLibraryDataSourceDelegate, BKLibraryLoadResetTaskDelegate> {

	NSDictionary* _initialDownloadsInfo;
	NSManagedObjectContext* _moc;
	NSMutableSet* _processedDataSourceRootPaths;
	NSMutableSet* _knownDataSourceRootPaths;
	NSDate* _nextIncrementalSave;
	NSDate* _lastIncrementalSave;
	int _incrementalSaveCount;
	int _unsavedInsertCount;
	int _unsavedInsertCountThreshold;
	/*^block*/id _callbackBlock;
	NSString* _cancellationContext;
	char _canDeleteBooks;
	unsigned _reloadFlags;
	unsigned _scheduleReloadFlags;
	NSMutableSet* _clearImageCacheBookIds;
	NSMutableSet* _clearCacheBookIds;
	char _needsBookVersionUpdateCount;
	char _jaliscoBooksNeedRemoval;
	NSMutableSet* _deleteFromBooks;
	NSMutableSet* _deleteFromPurchases;
	NSMutableSet* _deleteFromManagedBooks;
	NSString* _purchasesPlistDirectory;
	unsigned _purchasePlistDirectoryLength;
	NSString* _booksPlistDirectory;
	unsigned _booksPlistDirectoryLength;
	NSString* _managedBooksPlistDirectory;
	unsigned _managedBooksPlistDirectoryLength;

}

@property (nonatomic,copy) id callbackBlock; 
@property (nonatomic,retain) NSString * cancellationContext;                           //@synthesize cancellationContext=_cancellationContext - In the implementation block
@property (nonatomic,retain) NSManagedObjectContext * moc;                             //@synthesize moc=_moc - In the implementation block
@property (nonatomic,retain) NSMutableSet * processedDataSourceRootPaths;              //@synthesize processedDataSourceRootPaths=_processedDataSourceRootPaths - In the implementation block
@property (nonatomic,retain) NSMutableSet * knownDataSourceRootPaths;                  //@synthesize knownDataSourceRootPaths=_knownDataSourceRootPaths - In the implementation block
@property (nonatomic,retain) NSDictionary * initialDownloadsInfo;                      //@synthesize initialDownloadsInfo=_initialDownloadsInfo - In the implementation block
@property (nonatomic,readonly) unsigned reloadFlags;                                   //@synthesize reloadFlags=_reloadFlags - In the implementation block
@property (nonatomic,retain) NSDate * nextIncrementalSave;                             //@synthesize nextIncrementalSave=_nextIncrementalSave - In the implementation block
@property (nonatomic,retain) NSDate * lastIncrementalSave;                             //@synthesize lastIncrementalSave=_lastIncrementalSave - In the implementation block
@property (assign,nonatomic) int incrementalSaveCount;                                 //@synthesize incrementalSaveCount=_incrementalSaveCount - In the implementation block
@property (assign,nonatomic) int unsavedInsertCount;                                   //@synthesize unsavedInsertCount=_unsavedInsertCount - In the implementation block
@property (assign,nonatomic) int unsavedInsertCountThreshold;                          //@synthesize unsavedInsertCountThreshold=_unsavedInsertCountThreshold - In the implementation block
@property (assign,nonatomic) char canDeleteBooks;                                      //@synthesize canDeleteBooks=_canDeleteBooks - In the implementation block
+(char)forceDeleteBooks;
-(int)currentLibraryReloadFlags;
-(void)saveManagedObjectContext;
-(void)scheduleLibraryReload:(int)arg1 ;
-(unsigned)reloadFlags;
-(id)initWithReloadFlags:(unsigned)arg1 ;
-(void)setCallbackBlock:(id)arg1 ;
-(void)setCancellationContext:(NSString *)arg1 ;
-(NSString *)cancellationContext;
-(id)callbackBlock;
-(void)actualClearProtocolCache;
-(void)actualClearImageCache;
-(void)postSaveActions;
-(void)setCanDeleteBooks:(char)arg1 ;
-(void)setIncrementalSaveCount:(int)arg1 ;
-(void)setUnsavedInsertCount:(int)arg1 ;
-(void)setUnsavedInsertCountThreshold:(int)arg1 ;
-(void)setNextIncrementalSave:(NSDate *)arg1 ;
-(void)setLastIncrementalSave:(NSDate *)arg1 ;
-(void)setInitialDownloadsInfo:(NSDictionary *)arg1 ;
-(void)setProcessedDataSourceRootPaths:(NSMutableSet *)arg1 ;
-(void)setKnownDataSourceRootPaths:(NSMutableSet *)arg1 ;
-(NSMutableSet *)knownDataSourceRootPaths;
-(NSMutableSet *)processedDataSourceRootPaths;
-(void)deleteFromPlists;
-(void)checkLockFile;
-(void)preflightTasks;
-(void)mainTasks;
-(void)postflightTasks;
-(void)teardownManagedObjectContext;
-(void)scheduleCompletionBlock;
-(void)fireCompletionNotification;
-(char)isDataSourceRootPathValid:(id)arg1 ;
-(NSDictionary *)initialDownloadsInfo;
-(char)canDeleteBooks;
-(int)unsavedInsertCount;
-(NSDate *)lastIncrementalSave;
-(int)unsavedInsertCountThreshold;
-(NSDate *)nextIncrementalSave;
-(int)incrementalSaveCount;
-(void)clearImageCacheForBook:(id)arg1 ;
-(void)clearAllCachesForBook:(id)arg1 ;
-(void)dataSourceRootPath:(id)arg1 updatedBookPublicationVersion:(id)arg2 ;
-(void)dataSourceRootPath:(id)arg1 deleteUrlFromPlist:(id)arg2 ;
-(char)canDataSourceRootPath:(id)arg1 claimBook:(id)arg2 ;
-(char)isDownloadingDatabaseKey:(id)arg1 ;
-(void)incrementProgress;
-(char)jaliscoBooksNeedRemoval;
-(void)setJaliscoBooksNeedRemoval:(char)arg1 ;
-(void)deleteAssets:(id)arg1 ;
-(void)dealloc;
-(id)init;
-(id)description;
-(void)main;
-(id)managedObjectContext;
-(char)canDelete;
-(NSManagedObjectContext *)moc;
-(void)setMoc:(NSManagedObjectContext *)arg1 ;
@end

